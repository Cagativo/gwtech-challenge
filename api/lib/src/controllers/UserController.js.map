{"version":3,"file":"userController.js","sourceRoot":"","sources":["../../../dev/src/controllers/userController.ts"],"names":[],"mappings":";;AAAA,8CAAuC;AAGvC,gEAAyD;AACzD,kFAA2E;AAE3E,MAAqB,cAAc;IAC/B,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG;QACvB,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;QAE1B,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iBAAO,CAAC,GAAG,CAAkB,OAAO,CAAC,CAAC;QAElE,IAAI,EAAE,EAAE;YACJ,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC,CAAA;SAChD;QAED,MAAM,aAAa,GAAG,mCAAyB,CAAC,KAAK,CAAC,CAAC;QAEvD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iBAAO,CAAC,GAAG,CAAkB,OAAO,CAAC,CAAC;QAEpE,MAAM,UAAU,GAAG,0BAAgB,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;QAE1D,OAAO,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAChC,CAAC;CACJ;AAlBD,iCAkBC","sourcesContent":["import baseUrl from '../utils/baseUrl';\nimport UserInterface from '../interfaces/UserInterface';\nimport PostInterface from '../interfaces/PostInterface';\nimport formatUsersPosts from '../utils/formatUsersPosts';\nimport filterUsersByCompanyGroup from '../utils/filterUsersByCompanyGroup';\n\nexport default class userController {\n    static async index(req, res) {\n        const { id } = req.params;\n\n        let { data: users } = await baseUrl.get<UserInterface[]>('users');\n\n        if (id) {\n            users = users.filter(user => +id === user.id)\n        }\n\n        const usersFiltered = filterUsersByCompanyGroup(users);\n\n        const { data: posts } = await baseUrl.get<PostInterface[]>(`posts`);\n\n        const UsersPosts = formatUsersPosts(usersFiltered, posts);\n\n        return res.send(UsersPosts);\n    }\n}\n"]}